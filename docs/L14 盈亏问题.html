<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第14讲：盈亏问题 - 杂志级教学体验</title>
    <meta name="description" content="魔渊国际盈亏问题精品课程 - 同相减，异相加，除以两次分配差">
    <meta name="keywords" content="盈亏问题,分配问题,数学教学,计算技巧,教育课程">
    <meta name="author" content="魔渊国际数学教研团队">
    
    <!-- 样式框架 -->
    <link href="https://cdn.staticfile.org/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    
    <!-- 字体系统 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- 数学公式渲染 -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)'], ['$', '$']],
                displayMath: [['\\[', '\\]'], ['$$', '$$']],
                processEscapes: true
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- 交互增强 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root {
            /* 色彩系统 - 基于心理学的配色 */
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --accent-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --dark-gradient: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            --glass-effect: rgba(255, 255, 255, 0.1);
            
            /* 间距系统 - 黄金比例 */
            --space-unit: 1.618rem;
            --space-xs: calc(var(--space-unit) * 0.382);
            --space-sm: calc(var(--space-unit) * 0.618);
            --space-md: var(--space-unit);
            --space-lg: calc(var(--space-unit) * 1.618);
            --space-xl: calc(var(--space-unit) * 2.618);
            
            /* 动画系统 */
            --transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }

        body {
            font-family: 'Noto Sans SC', Tahoma, Arial, Roboto, 'Droid Sans', 'Helvetica Neue', 'Droid Sans Fallback', 'Heiti SC', 'Hiragino Sans GB', Simsun, sans-serif;
            line-height: 1.6;
            color: #333;
            overflow-x: hidden;
            background: white;
        }

        /* 玻璃态效果 */
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 1rem;
            transition: all 0.3s var(--transition-smooth);
        }

        .glass-card:hover {
            background: rgba(255, 255, 255, 0.95);
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        /* 磁性悬停效果 */
        .magnetic-hover {
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .magnetic-hover:hover {
            transform: translateY(-8px) scale(1.05);
        }

        /* 概念卡片样式 */
        .concept-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s var(--transition-smooth);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .concept-card:hover {
            background: rgba(255, 255, 255, 0.95);
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        /* 范例卡片样式 */
        .example-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            overflow: hidden;
            transition: all 0.3s var(--transition-smooth);
        }

        .example-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .example-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 1.5rem;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .hint-box {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-left: 4px solid #f59e0b;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
        }

        .solution-steps {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border-left: 4px solid #10b981;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
        }

        .key-insight {
            background: linear-gradient(135deg, #ddd6fe, #c4b5fd);
            border-left: 4px solid #8b5cf6;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
        }

        /* 动画效果 */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease-out forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 粒子动画容器 */
        #particles-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        /* 进度指示器 */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            z-index: 9999;
            transition: width 0.3s ease;
        }

        /* 返回顶部按钮 */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 3rem;
            height: 3rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            transform: translateY(100px);
            transition: all 0.3s var(--transition-smooth);
            z-index: 1000;
        }

        .back-to-top.show {
            opacity: 1;
            transform: translateY(0);
        }

        .back-to-top:hover {
            transform: translateY(-5px) scale(1.1);
        }

        /* 版本切换按钮样式 */
        .version-toggle {
            background: white;
            border-radius: 2rem;
            padding: 0.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
        }

        .version-btn {
            padding: 0.75rem 1.5rem;
            border-radius: 1.5rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s var(--transition-smooth);
            font-weight: 500;
        }

        .version-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: scale(1.05);
        }

        .version-btn:not(.active) {
            background: transparent;
            color: #6b7280;
        }

        .version-btn:not(.active):hover {
            background: #f3f4f6;
        }

        /* 隐藏元素 */
        .hidden {
            display: none !important;
        }

        /* 数学公式样式 */
        .math-formula {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0ea5e9;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            text-align: center;
            font-size: 1.1rem;
        }
    </style>
</head>

<body>
    <!-- 进度指示器 -->
    <div class="progress-bar" id="progress-bar"></div>

    <!-- Hero 区域 -->
    <section class="hero-section relative min-h-screen flex items-center justify-center overflow-hidden">
        <!-- 渐变背景 -->
        <div class="absolute inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-orange-600"></div>

        <!-- 粒子动画 -->
        <canvas id="particles-canvas" class="absolute inset-0"></canvas>

        <!-- Hero内容 -->
        <div class="relative z-10 text-center text-white px-4">
            <h1 class="text-6xl md:text-8xl font-bold mb-6 fade-in">
                第14讲：盈亏问题
            </h1>
            <h2 class="text-2xl md:text-3xl mb-8 opacity-90 fade-in">
                同相减，异相加，除以两次分配差
            </h2>
            <div class="flex flex-wrap justify-center gap-4 mb-12 fade-in">
                <span class="px-6 py-3 bg-white bg-opacity-20 rounded-full text-lg font-medium magnetic-hover">
                    🎯 15个精选范例
                </span>
                <span class="px-6 py-3 bg-white bg-opacity-20 rounded-full text-lg font-medium magnetic-hover">
                    🍓 盈亏问题
                </span>
                <span class="px-6 py-3 bg-white bg-opacity-20 rounded-full text-lg font-medium magnetic-hover">
                    ⚖️ 分配智慧
                </span>
            </div>
            <button onclick="goToSection('concepts')" class="px-8 py-4 bg-white text-blue-600 rounded-full text-xl font-bold hover:bg-opacity-90 transition-all duration-300 magnetic-hover">
                <i class="fas fa-balance-scale mr-2"></i>开始学习
            </button>
        </div>

        <!-- 滚动指示器 -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white animate-bounce">
            <i class="fas fa-chevron-down text-2xl opacity-60"></i>
        </div>
    </section>

    <!-- 知识导航 -->
    <section id="concepts" class="py-16 px-8 bg-gray-50">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-4xl font-bold text-center mb-4 fade-in text-gray-800">
                <i class="fas fa-balance-scale text-blue-500 mr-3"></i>
                知识导航
            </h2>
            <p class="text-center text-gray-600 mb-12 text-lg fade-in">
                掌握盈亏问题的核心概念，构建完整解题体系
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="concept-card p-6 fade-in">
                    <div class="text-3xl text-blue-500 mb-4">🍓</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">盈亏概念</h3>
                    <p class="text-gray-600 text-sm">
                        分配后有余称"盈"，分配不足称"亏"，研究分配不均问题的应用题
                    </p>
                </div>

                <div class="concept-card p-6 fade-in">
                    <div class="text-3xl text-green-500 mb-4">📈</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">盈盈型</h3>
                    <p class="text-gray-600 text-sm">
                        两次分配都有剩余，份数 = (大盈-小盈) ÷ 两次分配之差
                    </p>
                </div>

                <div class="concept-card p-6 fade-in">
                    <div class="text-3xl text-red-500 mb-4">📉</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">亏亏型</h3>
                    <p class="text-gray-600 text-sm">
                        两次分配都不够，份数 = (大亏-小亏) ÷ 两次分配之差
                    </p>
                </div>

                <div class="concept-card p-6 fade-in">
                    <div class="text-3xl text-purple-500 mb-4">⚖️</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">盈亏型</h3>
                    <p class="text-gray-600 text-sm">
                        一次有余一次不足，份数 = (盈+亏) ÷ 两次分配之差
                    </p>
                </div>

                <div class="concept-card p-6 fade-in">
                    <div class="text-3xl text-yellow-500 mb-4">🎯</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">解题口诀</h3>
                    <p class="text-gray-600 text-sm">
                        同相减，异相加，除以两次分配差，"每"后是单位，分配全靠它
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- 解题技巧 -->
    <section id="techniques" class="py-16 px-8 bg-white">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-4xl font-bold text-center mb-4 fade-in text-gray-800">
                <i class="fas fa-lightbulb text-orange-500 mr-3"></i>
                解题技巧
            </h2>
            <p class="text-center text-gray-600 mb-12 text-lg fade-in">
                三种核心技巧，掌握盈亏问题解题精髓
            </p>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="glass-card p-8 fade-in">
                    <h3 class="text-2xl font-bold mb-6 flex items-center text-gray-800">
                        🍓 <span class="ml-3">基本盈亏问题</span>
                    </h3>
                    <div class="space-y-4">
                        <div class="p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-semibold text-blue-700 mb-2">🍓 特点：有剩余→盈，不够分→亏</h4>
                            <p class="text-gray-600">物品总数相同，分的对象相同<br>多次分配的方式不同</p>
                        </div>
                        <div class="p-4 bg-green-50 rounded-lg">
                            <h4 class="font-semibold text-green-700 mb-2">🎯 思路：作比较</h4>
                            <p class="text-gray-600">找分配量和单位量（"每"后面）</p>
                        </div>
                        <div class="p-4 bg-purple-50 rounded-lg">
                            <h4 class="font-semibold text-purple-700 mb-2">⚖️ 方法：画示意图或十字表格</h4>
                            <p class="text-gray-600">比较两种分配方法: <br>分配方法 A 结果 A<br>分配方法 B 结果 B</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-8 fade-in">
                    <h3 class="text-2xl font-bold mb-6 flex items-center text-gray-800">
                        🥝 <span class="ml-3">类型分类</span>
                    </h3>
                    <div class="space-y-4">
                        <div class="p-4 bg-red-50 rounded-lg">
                            <h4 class="font-semibold text-red-700 mb-2">📈 盈盈型</h4>
                            <p class="text-gray-600">份数=(大盈-小盈)÷两次分配之差</p>
                        </div>
                        <div class="p-4 bg-orange-50 rounded-lg">
                            <h4 class="font-semibold text-orange-700 mb-2">📉 亏亏型</h4>
                            <p class="text-gray-600">份数=(大亏-小亏)÷两次分配之差</p>
                        </div>
                        <div class="p-4 bg-pink-50 rounded-lg">
                            <h4 class="font-semibold text-pink-700 mb-2">⚖️ 盈亏型</h4>
                            <p class="text-gray-600">份数=(盈+亏)÷两次分配之差</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-8 fade-in">
                    <h3 class="text-2xl font-bold mb-6 flex items-center text-gray-800">
                        🔄 <span class="ml-3">常用转化</span>
                    </h3>
                    <div class="space-y-4">
                        <div class="p-4 bg-cyan-50 rounded-lg">
                            <h4 class="font-semibold text-cyan-700 mb-2">🔄 分配结果转化</h4>
                            <p class="text-gray-600">分配对象→被分配物品</p>
                        </div>
                        <div class="p-4 bg-teal-50 rounded-lg">
                            <h4 class="font-semibold text-teal-700 mb-2">📊 分配方法转化</h4>
                            <p class="text-gray-600">不平均分→平均分</p>
                        </div>
                        <div class="p-4 bg-indigo-50 rounded-lg">
                            <h4 class="font-semibold text-indigo-700 mb-2">🎯 分配对象转化</h4>
                            <p class="text-gray-600">不同→相同，统一单位</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 范例讲解 -->
    <section id="examples" class="py-16 px-8 bg-gray-50">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-4xl font-bold text-center mb-4 fade-in text-gray-800">
                <i class="fas fa-lightbulb text-yellow-500 mr-3"></i>
                范例讲解
            </h2>
            <p class="text-center text-gray-600 mb-8 text-lg fade-in">
                15个精选范例，从基础到进阶，全面掌握盈亏问题
            </p>

            <!-- 版本切换按钮 -->
            <div class="flex justify-center mb-12">
                <div class="version-toggle">
                    <button id="student-version-btn" class="version-btn active">
                        <i class="fas fa-user-graduate mr-2"></i>学生版
                    </button>
                    <button id="teacher-version-btn" class="version-btn">
                        <i class="fas fa-chalkboard-teacher mr-2"></i>教师版
                    </button>
                </div>
            </div>

            <!-- 范例内容 -->
            <div class="space-y-8" id="examples-container">
                <!-- 范例1：盈平型 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 1：盈平型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">老师给学生们发练习本，如果每人发3本，那么还多出20本；如果每人发5本，则正好发完。请问：一共有多少个学生？多少本练习本？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 1：盈平型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">老师给学生们发练习本，如果每人发3本，那么还多出20本；如果每人发5本，则正好发完。请问：一共有多少个学生？多少本练习本？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法：多20本；第二种分法：多0本，这是"盈平"问题。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            学生：\(20 \div (5-3) = 10\) 人<br>
                            练习本：\(10 \times 5 = 50\) 本（或 \(10 \times 3 + 20 = 50\) 本）
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>当一种分配方法"正好分完"时，可以看作"盈0"或"亏0"。
                        </div>
                    </div>
                </div>

                <!-- 范例2：盈盈型 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 2：盈盈型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">老猴子给小猴子分桃，每只小猴分10个桃，就多出9个桃，每只小猴分11个桃则多出2个桃，那么一共有多少只小猴子？老猴子一共有多少个桃子？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 2：盈盈型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">老猴子给小猴子分桃，每只小猴分10个桃，就多出9个桃，每只小猴分11个桃则多出2个桃，那么一共有多少只小猴子？老猴子一共有多少个桃子？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法：多9个；第二种分法：多2个，这是"盈盈"问题。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            小猴子：\((9-2) \div (11-10) = 7\) 只<br>
                            桃子：\(7 \times 10 + 9 = 79\) 个
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>盈盈型用"大盈-小盈"，体现了"同相减"的口诀。
                        </div>
                    </div>
                </div>

                <!-- 范例3：亏平型 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 3：亏平型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">三年级的部分同学分玩具，如果每人分4个就少9个，如果每人分3个正好分完，有多少位同学分多少个玩具？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 3：亏平型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">三年级的部分同学分玩具，如果每人分4个就少9个，如果每人分3个正好分完，有多少位同学分多少个玩具？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法：少9个；第二种分法：少0个，这是"亏平"问题。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            同学：\(9 \div (4-3) = 9\) 人<br>
                            玩具：\(9 \times 3 = 27\) 个
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>亏平型是亏亏型的特殊情况，一个"亏"为0。
                        </div>
                    </div>
                </div>

                <!-- 范例4：亏亏型 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 4：亏亏型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">幼儿园给获奖的小朋友发糖，如果每人发6块就少12块，如果每人发9块就少24块，总共有多少块糖呢？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 4：亏亏型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">幼儿园给获奖的小朋友发糖，如果每人发6块就少12块，如果每人发9块就少24块，总共有多少块糖呢？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法少12块；第二种分法：少24块，这是"亏亏"问题。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            人数：\((24-12) \div (9-6) = 4\) 人<br>
                            糖果：\(6 \times 4 - 12 = 12\) 块（或 \(9 \times 4 - 24 = 12\)）
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>亏亏型用"大亏-小亏"，同样体现"同相减"。
                        </div>
                    </div>
                </div>

                <!-- 范例5：盈亏型 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 5：盈亏型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">秋天到了，小白兔收获了一筐萝卜，它按照计划吃的天数算了一下，如果每天吃4个，要多出48个萝卜；如果每天吃6个，则又少8个萝卜。那么小白兔买回的萝卜有多少个？计划吃多少天？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 5：盈亏型】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">秋天到了，小白兔收获了一筐萝卜，它按照计划吃的天数算了一下，如果每天吃4个，要多出48个萝卜；如果每天吃6个，则又少8个萝卜。那么小白兔买回的萝卜有多少个？计划吃多少天？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法：多48个；第二种分法：少8个，这是"盈亏"问题。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            天数：\((48+8) \div (6-4) = 28\) 天<br>
                            萝卜：\(6 \times 28 - 8 = 160\) 个（或 \(4 \times 28 + 48 = 160\)）
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>盈亏型是最典型的情况，体现"异相加"的精髓。
                        </div>
                    </div>
                </div>

                <!-- 范例6：特殊分配 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 6：特殊分配】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">把一堆糖果分给小朋友们，如果每人10块，则刚好分完；若每人12块，则其中有1人分了6块，那么小朋友共有多少人？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 6：特殊分配】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">把一堆糖果分给小朋友们，如果每人10块，则刚好分完；若每人12块，则其中有1人分了6块，那么小朋友共有多少人？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法：少0块；第二种分法：糖果少了12-6=6块。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            人数：\(6 \div (12-10) = 3\) 人
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>遇到特殊分配时，要计算实际少分了多少。
                        </div>
                    </div>
                </div>

                <!-- 范例7：复杂条件 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 7：复杂条件】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">猪妈妈带着孩子去野餐，如果每张餐桌周围坐9只小猪则有1张餐桌空了，如果每张餐桌周围坐12只则有3张餐桌各坐了3只小猪，问：一共有多少只小猪，猪妈妈一共带了多少张餐桌？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 7：复杂条件】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">猪妈妈带着孩子去野餐，如果每张餐桌周围坐9只小猪则有1张餐桌空了，如果每张餐桌周围坐12只则有3张餐桌各坐了3只小猪，问：一共有多少只小猪，猪妈妈一共带了多少张餐桌？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法：少9只；第二种分法：少了(12-3)×3=27只。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            餐桌：\((27-9) \div (12-9) = 6\) 张<br>
                            小猪：\(6 \times 9 - 9 = 45\) 只
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>复杂条件需要转化为标准的盈亏形式。
                        </div>
                    </div>
                </div>

                <!-- 范例8：非标准分配 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 8：非标准分配】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">国庆节快到了，少先队员去摆花盆。如果每人摆5盆花，还有3盆没人摆；如果其中2人各摆4盆，其余的人各摆6盆，这些花盆正好摆完。那么有多少少先队员参加摆花盆活动，一共摆多少花盆？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 8：非标准分配】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">国庆节快到了，少先队员去摆花盆。如果每人摆5盆花，还有3盆没人摆；如果其中2人各摆4盆，其余的人各摆6盆，这些花盆正好摆完。那么有多少少先队员参加摆花盆活动，一共摆多少花盆？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法：多3盆；第二种分法：2人各少摆2盆，共少4盆。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            人数：\((3+4) \div (6-5) = 7\) 人<br>
                            花盆：\(5 \times 7 + 3 = 38\) 盆
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>混合分配要转化为统一的盈亏标准。
                        </div>
                    </div>
                </div>

                <!-- 范例9：价格问题 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 9：价格问题】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">李妈妈去超市买洗衣粉，雕牌和碧浪的单价分别为8元和10元，李妈妈带的钱买雕牌洗衣粉比买碧浪洗衣粉可多买3袋，并且没有剩余的钱。问：李妈妈带了多少钱？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 9：价格问题】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">李妈妈去超市买洗衣粉，雕牌和碧浪的单价分别为8元和10元，李妈妈带的钱买雕牌洗衣粉比买碧浪洗衣粉可多买3袋，并且没有剩余的钱。问：李妈妈带了多少钱？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>雕牌少买3包，和碧浪一样多，则余3×8=24元。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            碧浪：\(24 \div (10-8) = 12\) 包<br>
                            总钱数：\(12 \times 10 = 120\) 元
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>价格问题可以转化为盈亏问题来解决。
                        </div>
                    </div>
                </div>

                <!-- 范例10：增加条件 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 10：增加条件】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">春节前夕，一富翁想施舍一笔钱财，一开始他准备给每人100元，结果剩下350元，他决定每人多给20元。这时又有5个乞丐闻讯从其它地方赶来了，如果他们每个人拿到的钱和其它乞丐一样多，则富翁还需要再增加550元。原有多少名乞丐？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 10：增加条件】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">春节前夕，一富翁想施舍一笔钱财，一开始他准备给每人100元，结果剩下350元，他决定每人多给20元。这时又有5个乞丐闻讯从其它地方赶来了，如果他们每个人拿到的钱和其它乞丐一样多，则富翁还需要再增加550元。原有多少名乞丐？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>如果不来这5个乞丐，富翁能剩下：120×5-550=50元。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            因此原有：\((350-50) \div 20 = 15\) 名乞丐
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>复杂条件变化要逐步分析转化。
                        </div>
                    </div>
                </div>

                <!-- 范例11：座位问题 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 11：座位问题】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">某合唱队的同学到会议室开会，若每条长椅上坐3人则多出9人，若每条长椅上坐4人则多一个长椅。问：合唱队有多少人？有多少个长椅？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 11：座位问题】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">某合唱队的同学到会议室开会，若每条长椅上坐3人则多出9人，若每条长椅上坐4人则多一个长椅。问：合唱队有多少人？有多少个长椅？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法：多9人；第二种分法：少4人（多1长椅相当于少坐4人）。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            长椅：\((9+4) \div (4-3) = 13\) 条<br>
                            合唱队：\(13 \times 3 + 9 = 48\) 人
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>要将"多几个容器"转化为"少几个物体"。
                        </div>
                    </div>
                </div>

                <!-- 范例12：宿舍分配 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 12：宿舍分配】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">学校给一批新入学的学生分配宿舍。如果每个房间住12人，则34人没有位置；如果每个房间住14人，则空出4个房间。求学生宿舍有多少间，住宿学生有多少人？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 12：宿舍分配】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">学校给一批新入学的学生分配宿舍。如果每个房间住12人，则34人没有位置；如果每个房间住14人，则空出4个房间。求学生宿舍有多少间，住宿学生有多少人？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>第一种分法：多34人；第二种分法：少14×4=56人。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            宿舍：\((34+56) \div (14-12) = 45\) 间<br>
                            学生：\(12 \times 45 + 34 = 574\) 人
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>大数据的盈亏问题同样适用基本公式。
                        </div>
                    </div>
                </div>

                <!-- 范例13：两班比较 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 13：两班比较】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">幼儿园把一袋糖果分给小朋友。如果只分给大班的小朋友，每人5粒则缺6粒。如果只分给小班的小朋友，每人4粒就余4粒。已知大班比小班少2个小朋友，这袋糖果共有多少粒？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 13：两班比较】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">幼儿园把一袋糖果分给小朋友。如果只分给大班的小朋友，每人5粒则缺6粒。如果只分给小班的小朋友，每人4粒就余4粒。已知大班比小班少2个小朋友，这袋糖果共有多少粒？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>如果大班增加2个小朋友，大、小班人数就相等了，每人5粒少5×2+6=16粒。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            小班：\((16+4) \div (5-4) = 20\) 人<br>
                            糖果：\(4 \times 20 + 4 = 84\) 粒
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>不同对象的盈亏问题需要统一化处理。
                        </div>
                    </div>
                </div>

                <!-- 范例14：比例问题 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 14：比例问题】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">王老师给小朋友分苹果和橘子，苹果数是橘子数的2倍。橘子每人分3个，多4个；苹果每人分7个，少5个。那么有多少个小朋友？多少个苹果和橘子？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 14：比例问题】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">王老师给小朋友分苹果和橘子，苹果数是橘子数的2倍。橘子每人分3个，多4个；苹果每人分7个，少5个。那么有多少个小朋友？多少个苹果和橘子？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>苹果是橘子的2倍，把橘子换成苹果，即苹果每人分6个就多8个。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            又已知苹果每人分7个少5个<br>
                            人数：\((8+5) \div (7-6) = 13\) 人<br>
                            橘子：\(13 \times 3 + 4 = 43\) 个<br>
                            苹果：\(43 \times 2 = 86\) 个
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>比例关系下的盈亏问题需要统一转化。
                        </div>
                    </div>
                </div>

                <!-- 范例15：复合条件 -->
                <div class="example-card student-version">
                    <div class="example-header">【范例 15：复合条件】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">卧龙自然保护区管理员把一些竹子分给若干只大熊猫，每只大熊猫分5颗还多余10棵竹子，如果大熊猫数增加到3倍还少5只，那么每只大熊猫分2棵竹子还缺少8棵竹子，那么大熊猫多少只？竹子多少棵？</p>
                    </div>
                </div>

                <div class="example-card teacher-version hidden">
                    <div class="example-header">【范例 15：复合条件】</div>
                    <div class="p-6">
                        <p class="text-lg mb-4">卧龙自然保护区管理员把一些竹子分给若干只大熊猫，每只大熊猫分5颗还多余10棵竹子，如果大熊猫数增加到3倍还少5只，那么每只大熊猫分2棵竹子还缺少8棵竹子，那么大熊猫多少只？竹子多少棵？</p>
                        
                        <div class="hint-box">
                            <strong>🍓 提示：</strong>先要转化条件，把"少5只大熊猫"暂时搁置，只考虑3倍大熊猫数，相当于按原数每只给2×3=6棵。
                        </div>
                        
                        <div class="solution-steps">
                            <strong>✅ 解析：</strong><br>
                            但比3倍还少5只，又少5×2=10棵<br>
                            每只给5棵与给6棵，总数相差10+10+8=28棵<br>
                            原有大熊猫：\(28 \div (6-5) = 28\) 只<br>
                            竹子总数：\(5 \times 28 + 10 = 150\) 棵
                        </div>
                        
                        <div class="key-insight">
                            <strong>💡 关键洞察：</strong>复合条件的盈亏问题需要逐步转化分析。
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 知识自测 -->
    <section id="quiz" class="py-16 px-8 bg-gray-50">
        <div class="max-w-6xl mx-auto">
            <p class="text-center text-gray-500 mb-4 text-sm fade-in">
                点击题目查看答案，检验你的学习成果
            </p>
            <h2 class="text-4xl font-bold text-center mb-12 fade-in text-gray-800">
                <i class="fas fa-brain text-blue-500 mr-3"></i>
                知识自测
            </h2>
            
            <!-- 知识自测题目列表 -->
            <div class="space-y-3">
                <!-- 自测题1 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <!-- 左侧：题目 -->
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(1)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-balance-scale text-blue-500 mr-3 text-xl"></i>
                                1. 什么是盈亏问题？
                            </h4>
                        </div>
                        <!-- 右侧：答案 -->
                        <div id="answer-1" class="p-6 bg-blue-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>分东西时分配不均的问题，有剩余→盈，不够分→亏</p>
                        </div>
                    </div>
                </div>
                
                <!-- 自测题2 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(2)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-lightbulb text-green-500 mr-3 text-xl"></i>
                                2. "盈"和"亏"是什么意思？
                            </h4>
                        </div>
                        <div id="answer-2" class="p-6 bg-green-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>"盈"就是分完后还剩下，"亏"就是分完还不够。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 自测题3 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(3)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-question-circle text-purple-500 mr-3 text-xl"></i>
                                3. 为什么要"统一单位"？
                            </h4>
                        </div>
                        <div id="answer-3" class="p-6 bg-purple-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>因为只有分的对象和每份的数量一样，才能正确比较和计算。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 自测题4 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(4)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-calculator text-orange-500 mr-3 text-xl"></i>
                                4. 盈盈型盈亏问题怎么算？
                            </h4>
                        </div>
                        <div id="answer-4" class="p-6 bg-orange-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>用（大盈-小盈）÷（两次每份的差）。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 自测题5 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(5)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-minus text-red-500 mr-3 text-xl"></i>
                                5. 亏亏型盈亏问题怎么算？
                            </h4>
                        </div>
                        <div id="answer-5" class="p-6 bg-red-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>用（大亏-小亏）÷（两次每份的差）。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 自测题6 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(6)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-arrows-alt-h text-indigo-500 mr-3 text-xl"></i>
                                6. 盈亏型盈亏问题怎么算？
                            </h4>
                        </div>
                        <div id="answer-6" class="p-6 bg-indigo-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>用（盈+亏）÷（两次每份的差）。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 自测题7 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(7)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-quote-left text-pink-500 mr-3 text-xl"></i>
                                7. "同相减，异相加"是什么意思？
                            </h4>
                        </div>
                        <div id="answer-7" class="p-6 bg-pink-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>两次都是盈或都是亏，就用相减；一次盈一次亏，就用相加。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 自测题8 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(8)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-example text-teal-500 mr-3 text-xl"></i>
                                8. 每人发3本多20本，每人发5本正好发完，这是什么类型？
                            </h4>
                        </div>
                        <div id="answer-8" class="p-6 bg-teal-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>这是盈平型问题，因为一次多出，一次正好。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 自测题9 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(9)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-hashtag text-cyan-500 mr-3 text-xl"></i>
                                9. "每"后面的数字代表什么？
                            </h4>
                        </div>
                        <div id="answer-9" class="p-6 bg-cyan-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>代表每个人或每个分到的数量。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 自测题10 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <div class="grid grid-cols-1 lg:grid-cols-2">
                        <div class="p-6 cursor-pointer hover:bg-gray-50 transition-colors" onclick="toggleAnswer(10)">
                            <h4 class="text-gray-800 font-bold text-lg mb-3 flex items-center">
                                <i class="fas fa-tools text-yellow-500 mr-3 text-xl"></i>
                                10. 如果有特殊分法，比如"有1人分了6块"，怎么办？
                            </h4>
                        </div>
                        <div id="answer-10" class="p-6 bg-yellow-50 border-l border-gray-200 hidden">
                            <p class="text-gray-700 text-lg"><i class="fas fa-check text-green-500 mr-2"></i>要把特殊分法换算成多出或少了多少，再一起算。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 px-8 bg-gray-900 text-white">
        <div class="max-w-6xl mx-auto text-center">
            <h3 class="text-2xl font-bold mb-4">魔渊国际数学教研团队</h3>
            <p class="mb-4">2025年魔渊 Class 精品课程 - 第6讲：盈亏问题</p>
            <div class="flex justify-center space-x-6 mb-6">
                <span><i class="fab fa-weixin mr-2"></i>微信: MoYuanGuoJi</span>
                <span><i class="fab fa-github mr-2"></i>GitHub: github.com/usyd2020</span>
                <span><i class="fas fa-envelope mr-2"></i>邮箱: 8ai4kid@gmail.com</span>
            </div>
            <p class="text-gray-400">© 2025 魔渊国际. 保留所有权利。</p>
        </div>
    </footer>

    <!-- 返回顶部按钮 -->
    <button class="back-to-top" id="back-to-top" onclick="scrollToTop()">
        <i class="fas fa-chevron-up"></i>
    </button>

    <script>
        // MathJax 配置
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']]
            }
        };

        // 粒子动画
        function initParticles() {
            const canvas = document.getElementById('particles-canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            const particles = [];
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    size: Math.random() * 3 + 1
                });
            }
            
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                particles.forEach(particle => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;
                    
                    if (particle.x < 0 || particle.x > canvas.width) particle.vx *= -1;
                    if (particle.y < 0 || particle.y > canvas.height) particle.vy *= -1;
                    
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
                    ctx.fill();
                });
                
                requestAnimationFrame(animate);
            }
            
            animate();
        }

        // 进度条
        function updateProgressBar() {
            const scrolled = (window.pageYOffset / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
            document.getElementById('progress-bar').style.width = scrolled + '%';
        }

        // 返回顶部
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // 滚动到指定区域
        function goToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }

        // 版本切换功能
        function initVersionToggle() {
            const studentBtn = document.getElementById('student-version-btn');
            const teacherBtn = document.getElementById('teacher-version-btn');

            studentBtn.addEventListener('click', () => showStudentVersion());
            teacherBtn.addEventListener('click', () => showTeacherVersion());
        }

        function showStudentVersion() {
            document.getElementById('student-version-btn').classList.add('active');
            document.getElementById('teacher-version-btn').classList.remove('active');
            
            document.querySelectorAll('.student-version').forEach(el => el.classList.remove('hidden'));
            document.querySelectorAll('.teacher-version').forEach(el => el.classList.add('hidden'));
            
            // 重新渲染MathJax
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }

        function showTeacherVersion() {
            document.getElementById('teacher-version-btn').classList.add('active');
            document.getElementById('student-version-btn').classList.remove('active');
            
            document.querySelectorAll('.teacher-version').forEach(el => el.classList.remove('hidden'));
            document.querySelectorAll('.student-version').forEach(el => el.classList.add('hidden'));
            
            // 重新渲染MathJax
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }

        // 知识自测答案切换函数
        function toggleAnswer(questionId) {
            const answer = document.getElementById('answer-' + questionId);
            if (answer.classList.contains('hidden')) {
                answer.classList.remove('hidden');
            } else {
                answer.classList.add('hidden');
            }
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            initParticles();
            initVersionToggle();
            
            // 滚动事件监听
            window.addEventListener('scroll', function() {
                updateProgressBar();
                
                const backToTop = document.getElementById('back-to-top');
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('show');
                } else {
                    backToTop.classList.remove('show');
                }
            });

            // GSAP 滚动动画
            if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {
                gsap.registerPlugin(ScrollTrigger);
                
                gsap.utils.toArray('.fade-in').forEach(element => {
                    gsap.fromTo(element, 
                        { opacity: 0, y: 50 },
                        { 
                            opacity: 1, 
                            y: 0, 
                            duration: 0.8,
                            scrollTrigger: {
                                trigger: element,
                                start: "top 80%",
                                end: "bottom 20%"
                            }
                        }
                    );
                });
            }
        });

        // 窗口大小改变时重新调整canvas
        window.addEventListener('resize', function() {
            const canvas = document.getElementById('particles-canvas');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        });
    </script>
</body>
</html>